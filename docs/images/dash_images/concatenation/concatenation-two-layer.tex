%!tikz editor 1.0
\documentclass{article}
\usepackage{tikz}
\usepackage[graphics, active, tightpage]{preview}
\PreviewEnvironment{tikzpicture}

%!tikz preamble begin

%!tikz preamble end


\begin{document}
%!tikz source begin
\begin{tikzpicture}
\foreach \x in {1,...,4}
  \foreach \y in {1,...,7}
    \fill[blue!\x4!green] (\x+\y*0.9,-2.5+\x-\y*0.6) circle (0.3cm);
	
\foreach \x in {4,...,1}
  \foreach \y in {3,...,1}
  {
    \fill[red!\y2!yellow] (\x+\y*0.9,\x-\y*0.6) circle (0.3cm);
	\draw[green,dashed] (\x+\y*0.9, \x-\y*0.6-0.3) -- (\x+\y*0.9,-2.5+\x-\y*0.6+0.3);
	}
	
\foreach \x in {3,...,4}
  \foreach \y in {1,...,3}
  {
    \fill[red] (\x+\y*0.9,\x-\y*0.6+2.5) circle (0.3cm);
	\draw[yellow,dashed] (\x+\y*0.9, \x-\y*0.6-0.3+2.5) -- (\x+\y*0.9,\x-\y*0.6+0.3);
	}

	
\node [draw, rotate=-35] at (3,-4) {[[7,3]] inner code};
\node [draw, rotate=45] at (2.5,2.5) {[[4,2]] outer code};

\end{tikzpicture}
%!tikz source end

\end{document}